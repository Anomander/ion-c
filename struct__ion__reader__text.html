<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Amazon Ion C: _ion_reader_text Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>_ion_reader_text Struct Reference</h1><!-- doxytag: class="_ion_reader_text" -->
<p><code>#include &lt;<a class="el" href="ion__reader__impl_8h_source.html">ion_reader_impl.h</a>&gt;</code></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__ion__scanner.html">ION_SCANNER</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__ion__reader__text.html#ae51dec403c0a6d3c788348a18dde5239">_scanner</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ION_PARSER_STATE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__ion__reader__text.html#a3d77f5899ada420903d54792533afd5c">_state</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">POSITION&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__ion__reader__text.html#aec8f04626adf9dd7e3d04ca444f2c3b5">_value_start</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5a6d2c7e8630f72aabd9e34a1f4ba514"></a><!-- doxytag: member="_ion_reader_text::_value_end" ref="a5a6d2c7e8630f72aabd9e34a1f4ba514" args="" -->
POSITION&nbsp;</td><td class="memItemRight" valign="bottom"><b>_value_end</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a145c0b6fab8a0c3ce826c2a53b473dde"></a><!-- doxytag: member="_ion_reader_text::_annotation_start" ref="a145c0b6fab8a0c3ce826c2a53b473dde" args="" -->
POSITION&nbsp;</td><td class="memItemRight" valign="bottom"><b>_annotation_start</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__ion__string.html">ION_STRING</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__ion__reader__text.html#aa42be809e1d708ffc01eba85783ecdff">_field_name</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8d1a2f0815be2b6a571f363ff832932f"></a><!-- doxytag: member="_ion_reader_text::_field_name_buffer" ref="a8d1a2f0815be2b6a571f363ff832932f" args="" -->
BYTE *&nbsp;</td><td class="memItemRight" valign="bottom"><b>_field_name_buffer</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa69c5fe865e865a77175ef9c3364cea0"></a><!-- doxytag: member="_ion_reader_text::_field_name_buffer_length" ref="aa69c5fe865e865a77175ef9c3364cea0" args="" -->
SIZE&nbsp;</td><td class="memItemRight" valign="bottom"><b>_field_name_buffer_length</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">SIZE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__ion__reader__text.html#a0ebe2cd764f46c7198393f001a61fec3">_annotation_count</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5afaa1581088f0a1f53fc83778354f09"></a><!-- doxytag: member="_ion_reader_text::_annotation_string_pool" ref="a5afaa1581088f0a1f53fc83778354f09" args="" -->
<a class="el" href="struct__ion__string.html">ION_STRING</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>_annotation_string_pool</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad5276dedf67c57950886ad569549c811"></a><!-- doxytag: member="_ion_reader_text::_annotation_string_pool_length" ref="ad5276dedf67c57950886ad569549c811" args="" -->
SIZE&nbsp;</td><td class="memItemRight" valign="bottom"><b>_annotation_string_pool_length</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a14945942eaf32fdb34763b976c9cbad8"></a><!-- doxytag: member="_ion_reader_text::_annotation_value_next" ref="a14945942eaf32fdb34763b976c9cbad8" args="" -->
BYTE *&nbsp;</td><td class="memItemRight" valign="bottom"><b>_annotation_value_next</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e6f8ed3a5b7f07f188e241e812d2f5d"></a><!-- doxytag: member="_ion_reader_text::_annotation_value_buffer" ref="a1e6f8ed3a5b7f07f188e241e812d2f5d" args="" -->
BYTE *&nbsp;</td><td class="memItemRight" valign="bottom"><b>_annotation_value_buffer</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aab0c29a78d075decd4df6cf2aa2d03ac"></a><!-- doxytag: member="_ion_reader_text::_annotation_value_buffer_length" ref="aab0c29a78d075decd4df6cf2aa2d03ac" args="" -->
SIZE&nbsp;</td><td class="memItemRight" valign="bottom"><b>_annotation_value_buffer_length</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ION_TYPE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__ion__reader__text.html#ad1ba71730ea6837cbb1953c26b8948be">_value_type</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__ion__sub__type.html">ION_SUB_TYPE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__ion__reader__text.html#a46f5ee5da1a9a2a83d1bdc613265e367">_value_sub_type</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ION_TYPE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__ion__reader__text.html#a9bf91186a028290d4f59f953b9c15b7e">_current_container</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__ion__collection.html">ION_COLLECTION</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__ion__reader__text.html#a5a2b7deacfd95581d19ccff2d22c2f26">_container_state_stack</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This is the struct that hold state for the ion text reader when parsing Ion from UTF8. </p>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a0ebe2cd764f46c7198393f001a61fec3"></a><!-- doxytag: member="_ion_reader_text::_annotation_count" ref="a0ebe2cd764f46c7198393f001a61fec3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SIZE <a class="el" href="struct__ion__reader__text.html#a0ebe2cd764f46c7198393f001a61fec3">_ion_reader_text::_annotation_count</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This collection holds the buffered annotation symbols. It is a list of ION_STRING each string holding one annotation. It is preallocated for max_annotation_count string. For safety any annotation is null terminated. The null byte is not included in the length stored in the ion string. Space for the null's is added to the reader option requested annotation max buffered. </p>

</div>
</div>
<a class="anchor" id="a5a2b7deacfd95581d19ccff2d22c2f26"></a><!-- doxytag: member="_ion_reader_text::_container_state_stack" ref="a5a2b7deacfd95581d19ccff2d22c2f26" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__ion__collection.html">ION_COLLECTION</a> <a class="el" href="struct__ion__reader__text.html#a5a2b7deacfd95581d19ccff2d22c2f26">_ion_reader_text::_container_state_stack</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>local stack of parent container types for stepInto() and stepOut() this contains the stack of ION_TYPEs of the containers the caller has stepped into. These types are always a container type, never null. This stack is empty when we are at the top level (aka at the datagram level). </p>

</div>
</div>
<a class="anchor" id="a9bf91186a028290d4f59f953b9c15b7e"></a><!-- doxytag: member="_ion_reader_text::_current_container" ref="a9bf91186a028290d4f59f953b9c15b7e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ION_TYPE <a class="el" href="struct__ion__reader__text.html#a9bf91186a028290d4f59f953b9c15b7e">_ion_reader_text::_current_container</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this is the current container. Initially this is DATAGRAM, it changes as the user step into and out of containers as they are encountered. </p>

</div>
</div>
<a class="anchor" id="aa42be809e1d708ffc01eba85783ecdff"></a><!-- doxytag: member="_ion_reader_text::_field_name" ref="aa42be809e1d708ffc01eba85783ecdff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__ion__string.html">ION_STRING</a> <a class="el" href="struct__ion__reader__text.html#aa42be809e1d708ffc01eba85783ecdff">_ion_reader_text::_field_name</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>space for the field name. The string value always points to the field name buffer and the length of the string is the number of bytes in the current field name. The actual characters are in the field name buffer and we limit field names to field name buffer length. </p>

</div>
</div>
<a class="anchor" id="ae51dec403c0a6d3c788348a18dde5239"></a><!-- doxytag: member="_ion_reader_text::_scanner" ref="ae51dec403c0a6d3c788348a18dde5239" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__ion__scanner.html">ION_SCANNER</a> <a class="el" href="struct__ion__reader__text.html#ae51dec403c0a6d3c788348a18dde5239">_ion_reader_text::_scanner</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>tokenizer used to interprete the input stream for tokens. (TOKEN_INT, TOKEN_DOT, TOKEN_COMMA, etc) this supports recognize() or skip() or read() recognize() looks ahead and returns a beginning of a whole value token (null to struct) skip(token type) scans over a token of a known type ignoring the characters read(token type, destination) reads the value characters from the input stream and writing to the destination (converting as necessary) all of these track line count and offset for error reporting note that _scanner is in line (not allocated) </p>

</div>
</div>
<a class="anchor" id="a3d77f5899ada420903d54792533afd5c"></a><!-- doxytag: member="_ion_reader_text::_state" ref="a3d77f5899ada420903d54792533afd5c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ION_PARSER_STATE <a class="el" href="struct__ion__reader__text.html#a3d77f5899ada420903d54792533afd5c">_ion_reader_text::_state</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Current state of the parser. (datagram, plain_value, list_value, list_comma, etc) </p>

</div>
</div>
<a class="anchor" id="aec8f04626adf9dd7e3d04ca444f2c3b5"></a><!-- doxytag: member="_ion_reader_text::_value_start" ref="aec8f04626adf9dd7e3d04ca444f2c3b5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">POSITION <a class="el" href="struct__ion__reader__text.html#aec8f04626adf9dd7e3d04ca444f2c3b5">_ion_reader_text::_value_start</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>value start and value end hold the byte offset in the input stream of the first character of the value and the first character after the value. These can be used to seek the stream to the beginning of the value or just past the value. These are set to -1 if the values are unknown. start is unknown until the beginning of the value is recognized and only while the value is not finished being read. start moves forward if the value is being read in pieces (string, clob, blob, and containers). end is not set unless the value as been scanned to get the length, it is also -1 if the reader is not "on" a value. </p>

</div>
</div>
<a class="anchor" id="a46f5ee5da1a9a2a83d1bdc613265e367"></a><!-- doxytag: member="_ion_reader_text::_value_sub_type" ref="a46f5ee5da1a9a2a83d1bdc613265e367" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__ion__sub__type.html">ION_SUB_TYPE</a> <a class="el" href="struct__ion__reader__text.html#a46f5ee5da1a9a2a83d1bdc613265e367">_ion_reader_text::_value_sub_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this is the type of the value that has been recognized by the parser. It is much more detailed as it must define the value termination sequence and correct interpretation of the bytes. </p>

</div>
</div>
<a class="anchor" id="ad1ba71730ea6837cbb1953c26b8948be"></a><!-- doxytag: member="_ion_reader_text::_value_type" ref="ad1ba71730ea6837cbb1953c26b8948be" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ION_TYPE <a class="el" href="struct__ion__reader__text.html#ad1ba71730ea6837cbb1953c26b8948be">_ion_reader_text::_value_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>ION_TYPE for the value at the current position. tid_INT, tid_FLOAT, tid_BLOB, etc) The value is only valid if _value_ready is set. tid_EOF is a valid value type, so the usual value check would be checking both value_ready and value_type != EOF </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>ionc/ionc/<a class="el" href="ion__reader__impl_8h_source.html">ion_reader_impl.h</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 30 Jun 2016 for Amazon Ion C by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
